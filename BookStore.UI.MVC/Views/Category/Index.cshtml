@using BookStore.UI.MVC.Models
@using BookStore.Model.Models
@model CategoryIndexVM

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    List<Category> categories = ViewBag.categories;
}
<!--================Category Product Area =================-->
<section class="cat_product_area section_gap">
    <div class="container">
        <div class="row flex-row-reverse">
            <div class="col-lg-9">
                <div class="product_top_bar">
                    <div class="left_dorp">
                        <select class="sorting">
                            <option value="1">Default sorting</option>
                            <option value="2">Default sorting 01</option>
                            <option value="4">Default sorting 02</option>
                        </select>
                        <select class="show">
                            <option value="1">Show 12</option>
                            <option value="2">Show 14</option>
                            <option value="4">Show 16</option>
                        </select>
                    </div>
                </div>

                <div class="latest_product_inner">
                    <div class="row">
                        <div class="col-lg-12">
                            <div id="jssor_1" style="position:relative;margin:0 auto;top:0px;left:0px;width:900px;height:250px;overflow:hidden;visibility:hidden;">
                                <!-- Loading Screen -->
                                <div data-u="loading" class="jssorl-009-spin" style="position:absolute;top:0px;left:0px;width:100%;height:100%;text-align:center;background-color:rgba(0,0,0,0.7);">
                                    <img style="margin-top:-19px;position:relative;top:50%;width:38px;height:38px;" src="img/spin.svg" />
                                </div>
                                <div data-u="slides" style="cursor:default;position:relative;top:0px;left:0px;width:980px;height:380px;overflow:hidden;">
                                    <div data-p="170">
                                        <img data-u="image" src="~/BookStore/img/agustos_kampanya_banner.png" />
                                        <div data-t="0" style="position:absolute;top:320px;left:30px;width:500px;height:40px;font-family:Oswald,sans-serif;font-size:32px;font-weight:200;line-height:1.2;text-align:center;background-color:rgba(255,188,5,0.8);">Mobile ready, touch swipe</div>
                                    </div>
                                    <div data-p="170">
                                        <img data-u="image" src="~/BookStore/img/indigo_modern_klasikler_banner.png" />
                                        <div data-t="1" style="position:absolute;top:-50px;left:125px;width:500px;height:40px;font-family:Oswald,sans-serif;font-size:32px;font-weight:200;line-height:1.2;text-align:center;background-color:rgba(255,188,5,0.8);">Time lined layer animation</div>
                                    </div>
                                    <div data-p="170">
                                        <img data-u="image" src="img/003.jpg" />
                                        <div data-t="2" style="position:absolute;top:30px;left:-505px;width:500px;height:40px;font-family:Oswald,sans-serif;font-size:32px;font-weight:200;line-height:1.2;text-align:center;background-color:rgba(255,188,5,0.8);">Finger catchable right to left</div>
                                    </div>
                                    <div data-p="170">
                                        <img data-u="image" src="img/004.jpg" />
                                        <div data-t="3" style="position:absolute;top:30px;left:30px;width:500px;height:40px;font-family:Oswald,sans-serif;font-size:32px;font-weight:200;line-height:1.2;text-align:center;background-color:rgba(255,188,5,0.8);">responsive, scale smoothly</div>
                                    </div>
                                    <div data-p="170">
                                        <img data-u="image" src="img/005.jpg" />
                                        <div data-t="4" style="position:absolute;top:30px;left:30px;width:500px;height:40px;font-family:Oswald,sans-serif;font-size:32px;font-weight:200;line-height:1.2;text-align:center;background-color:rgba(255,188,5,0.8);">image, text, and custom layers</div>
                                    </div>
                                    <div data-p="170">
                                        <img data-u="image" src="img/006.jpg" />
                                        <div data-t="5" style="position:absolute;top:30px;left:600px;width:500px;height:40px;font-family:Oswald,sans-serif;font-size:32px;font-weight:200;line-height:1.2;text-align:center;background-color:rgba(255,188,5,0.8);">tons of transition type</div>
                                    </div>
                                    <div data-p="170">
                                        <img data-u="image" src="img/007.jpg" />
                                        <div data-t="6" style="position:absolute;top:30px;left:30px;width:500px;height:40px;font-family:Oswald,sans-serif;font-size:32px;font-weight:200;line-height:1.2;text-align:center;background-color:rgba(255,188,5,0.8);">visual slider maker</div>
                                    </div>
                                    <div data-b="0" data-p="170">
                                        <img data-u="image" src="img/008.jpg" />
                                        <div data-t="7" style="position:absolute;top:-50px;left:30px;width:500px;height:40px;font-family:Oswald,sans-serif;font-size:32px;font-weight:200;line-height:1.2;text-align:center;background-color:rgba(255,188,5,0.8);">play in and play out</div>
                                    </div>
                                    <div data-p="170">
                                        <img data-u="image" src="img/009.jpg" />
                                        <div data-t="8" data-ts="preserve-3d" style="position:absolute;top:25px;left:150px;width:250px;height:250px;overflow:hidden;background-color:rgba(40,177,255,0.6);">
                                            <div data-t="9" style="position:absolute;top:100px;left:25px;width:200px;height:50px;font-family:Oswald,sans-serif;font-size:24px;font-weight:200;line-height:2.08;">A Child Layer</div>
                                        </div>
                                    </div>
                                    <div data-p="170">
                                        <img data-u="image" src="img/010.jpg" />
                                        <div data-t="10" style="position:absolute;top:25px;left:100px;width:300px;height:260px;font-family:Oswald,sans-serif;font-size:24px;font-weight:200;line-height:1.25;padding:15px 15px 15px 15px;box-sizing:border-box;background-color:rgba(40,177,255,0.6);background-clip:padding-box;">
                                            This is full customized content layer.<br />​<br />
                                            Everything is allowed.<br />​<br />You can insert

                                            <a href="http://wwww.jssor.com">a link</a> or an image

                                            <img src="img/icon_chrome.png" /> here.
                                        </div>
                                    </div>
                                </div>
                                <!-- Bullet Navigator -->
                                <div data-u="navigator" class="jssorb052" style="position:absolute;bottom:12px;right:12px;" data-autocenter="1" data-scale="0.5" data-scale-bottom="0.75">
                                    <div data-u="prototype" class="i">
                                    </div>
                                </div>
                                <!-- Arrow Navigator -->
                                <div data-u="arrowleft" class="jssora053" style="width:55px;height:55px;top:0px;left:25px;" data-autocenter="2" data-scale="0.75" data-scale-left="0.75">
                                    <img src="https://www.pngarts.com/files/2/Next-PNG-Download-Image.png" style="width:50px;height:50px;transform: rotateY(180deg);" />
                                </div>
                                <div data-u="arrowright" class="jssora053" style="width:55px;height:55px;top:0px;right:25px;" data-autocenter="2" data-scale="0.75" data-scale-right="0.75">
                                    <img src="https://www.pngarts.com/files/2/Next-PNG-Download-Image.png" style="width:50px;height:50px;" />
                                </div>
                            </div>
                            <!-- #endregion Jssor Slider End -->
                        </div>
                        <div class="col-lg-12">&nbsp;</div>
                        <div class="col-lg-12">Çok Satanlar</div>
                        @if (Model.MostSales != null)
                        {
                            foreach (Book item in Model.MostSales)
                            {
                                <div class="col-lg-4 col-md-6">
                                    <div class="single-product">
                                        <div class="product-img">
                                            <img class="card-img" src="@item.ImagePath" alt="@item.Name" style="width:200px;height:300px" />
                                            <div class="p_icon">
                                                <a href="/Book/Search/@item.ID">
                                                    <i class="ti-eye"></i>
                                                </a>
                                                <a href="javascript:void(0)" class="add_cart_btn" data-id="@item.ID">
                                                    <i class="ti-shopping-cart"></i>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="product-btm">
                                            <a href="javascript:void(0)" class="d-block">
                                                <h4>@item.Name</h4>
                                            </a>
                                            <div class="mt-3">
                                                @if (item.SubCategory.Category.Campaigns != null)
                                                {
                                                    <span class="mr-4">@item.Price</span>

                                                    <del>@item.Price</del>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                        <div class="col-lg-12">Yeni Çıkanlar</div>
                        @if (Model.NewBooks != null)
                        {
                            foreach (Book item in Model.NewBooks)
                            {
                                <div class="col-lg-4 col-md-6">
                                    <div class="single-product">
                                        <div class="product-img">
                                            <img class="card-img" src="@item.ImagePath" alt="@item.Name" style="width:200px;height:300px" />
                                            <div class="p_icon">
                                                <a href="/Book/Search/@item.ID">
                                                    <i class="ti-eye"></i>
                                                </a>
                                                <a href="javascript:void(0)" class="add_cart_btn" data-id="@item.ID">
                                                    <i class="ti-shopping-cart"></i>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="product-btm">
                                            <a href="javascript:void(0)" class="d-block">
                                                <h4>@item.Name</h4>
                                            </a>
                                            <div class="mt-3">
                                                @if (item.SubCategory.Category.Campaigns != null)
                                                {
                                                    <span class="mr-4">@item.Price</span>

                                                    <del>@item.Price</del>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="left_sidebar_area">
                    <aside class="left_widgets p_filter_widgets">
                        <div class="l_w_title">
                            <h3>Kategoriler</h3>
                        </div>
                        <div class="widgets_inner">
                            <ul class="list">
                                @foreach (Category item in categories)
                                {
                                    <li>
                                        @Html.ActionLink(item.Name, "Category", "Category", new { id = item.ID }, null)
                                    </li>
                                }
                            </ul>
                        </div>
                    </aside>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================End Category Product Area =================-->

@*@section scripts{
    <script>
        $(".add_cart_btn").click(function () {
            var bookID = $(this).attr("data-id");

            $.ajax({
                url: "/Cart/AddToCart/" + bookID,
                type: "GET",
                dataType: "json",
                contentType: "application/json;charset=utf-8",
                success: function (data) {
                    if (data != null) {
                        $(".count").html(data);
                        alert("Ürün Sepete Eklendi");
                    }
                    else {
                        alert("Ürün Eklerken Hata Oluştu!");
                    }
                }
            });
        });


    </script>
}*@


